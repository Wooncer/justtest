<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Опросы</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <header>
        <h1>Выберите сотрудника</h1>
    </header>
    <main>
        <div class="button-grid">
            <a href="calendar.html" class="button">
                <img src="image1.png" alt="Опрос 1">
                <span>Фамилия 1</span>
            </a>
            <a href="calendar.html" class="button">
                <img src="image2.png" alt="Опрос 2">
                <span>Фамилия 2</span>
            </a>
            <a href="calendar.html" class="button">
                <img src="image1.png" alt="Опрос 3">
                <span>Фамилия 3</span>
            </a>
            <a href="calendar.html" class="button">
                <img src="image2.png" alt="Опрос 4">
                <span>Фамилия 4</span>
            </a>
            <a href="calendar.html" class="button">
                <img src="image1.png" alt="Опрос 5">
                <span>Фамилия 5</span>
            </a>
            <a href="calendar.html" class="button">
                <img src="image2.png" alt="Опрос 6">
                <span>Фамилия 6</span>
            </a>
            <a href="calendar.html" class="button">
                <img src="image1.png" alt="Опрос 7">
                <span>Фамилия 7</span>
            </a>
            <a href="calendar.html" class="button">
                <img src="image2.png" alt="Опрос 8">
                <span>Фамилия 8</span>
            </a>
            <a href="calendar.html" class="button">
                <img src="image1.png" alt="Опрос 9">
                <span>Фамилия 9</span>
            </a>
        </div>
    </main>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script>
        let tg = window.Telegram.WebApp
        const employeeButtons = document.querySelectorAll('.button');

        employeeButtons.forEach((button) => {
            button.addEventListener('click', (event) => {
                event.preventDefault();

                const emloyeeId = event.target.dataset.emloyeeId;
                
                let data = {
                    employeeID: emloyeeId
                }
                tg.sendData(JSON.stringify(data)).then(() => {
                    window.location.href = event.target.href;
                })
            })
        })
    </script>
</body>
</html>
